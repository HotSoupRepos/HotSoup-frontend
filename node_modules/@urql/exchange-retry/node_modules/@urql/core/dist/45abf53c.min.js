var e=require("graphql"),r=require("wonka");function t(r){return"string"==typeof r?new e.GraphQLError(r):"object"==typeof r&&r.message?new e.GraphQLError(r.message,r.nodes,r.source,r.positions,r.path,r,r.extensions||{}):r}var n=function(e){function r(r){var n,o,a,i=r.networkError,s=r.response,u=(r.graphQLErrors||[]).map(t),c=(o=u,a="",void 0!==(n=i)?a="[Network] "+n.message:(void 0!==o&&o.forEach((function(e){a+="[GraphQL] "+e.message+"\n"})),a.trim()));e.call(this,c),this.name="CombinedError",this.message=c,this.graphQLErrors=u,this.networkError=i,this.response=s}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.toString=function(){return this.message},r}(Error);function o(e,r){e|=0;for(var t=0,n=0|r.length;t<n;t++)e=(e<<5)+e+r.charCodeAt(t);return e}function a(e){return o(5381,e)>>>0}var i=new Set,s=new WeakMap;function u(e){if(null===e||i.has(e))return"null";if("object"!=typeof e)return JSON.stringify(e)||"";if(e.toJSON)return u(e.toJSON());if(Array.isArray(e)){for(var r="[",t=0,n=e.length;t<n;t++){t>0&&(r+=",");var o=u(e[t]);r+=o.length>0?o:"null"}return r+"]"}var a=Object.keys(e).sort();if(!a.length&&e.constructor&&e.constructor!==Object){var c=s.get(e)||Math.random().toString(36).slice(2);return s.set(e,c),'{"__key":"'+c+'"}'}i.add(e);for(var f="{",p=0,l=a.length;p<l;p++){var d=a[p],h=u(e[d]);h&&(f.length>1&&(f+=","),f+=u(d)+":"+h)}return i.delete(e),f+"}"}function c(e){return i.clear(),u(e)}var f=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,p=/([\s,]|#[^\n\r]+)+/g;function l(e,r){return r%2==0?e.replace(p," ").trim():e}function d(r){var t=("string"!=typeof r?r.loc&&r.loc.source.body||e.print(r):r).split(f).map(l).join("");if("string"!=typeof r){var n="definitions"in r&&y(r);n&&(t="# "+n+"\n"+t),r.loc||(r.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}})}return t}var h=new Map;function v(r){var t,n;return"string"==typeof r?(t=a(d(r)),n=h.get(t)||e.parse(r,{noLocation:!0})):(t=r.__key||a(d(r)),n=h.get(t)||r),n.loc||d(n),n.__key=t,h.set(t,n),n}function y(r){for(var t=0,n=r.definitions.length;t<n;t++){var o=r.definitions[t];if(o.kind===e.Kind.OPERATION_DEFINITION&&o.name)return o.name.value}}function g(){return(g=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function x(e,r,t){if(!("data"in r)&&!("errors"in r)||"path"in r)throw new Error("No Content");return{operation:e,data:r.data,error:Array.isArray(r.errors)?new n({graphQLErrors:r.errors,response:t}):void 0,extensions:"object"==typeof r.extensions&&r.extensions||void 0,hasNext:!!r.hasNext}}function m(e,r,t){var o=g({},e);if(o.hasNext=!!r.hasNext,!("path"in r))return"data"in r&&(o.data=r.data),o;Array.isArray(r.errors)&&(o.error=new n({graphQLErrors:o.error?o.error.graphQLErrors.concat(r.errors):r.errors,response:t}));for(var a,i=o.data=g({},o.data),s=0;s<r.path.length;)i=i[a=r.path[s++]]=Array.isArray(i[a])?[].concat(i[a]):g({},i[a]);return g(i,r.data),o}function b(e,r,t){return{operation:e,data:void 0,error:new n({networkError:r,response:t}),extensions:void 0}}function O(e){return"query"===e.kind&&!!e.context.preferGetMethod}var N="undefined"!=typeof Symbol?Symbol.asyncIterator:null,k="undefined"!=typeof TextDecoder?new TextDecoder:null,w=/content-type:[^\r\n]*application\/json/i,E=/boundary="?([^=";]+)"?/i;exports.CombinedError=n,exports._extends=g,exports.createRequest=function(e,r){r||(r={});var t=v(e);return{key:o(t.__key,c(r))>>>0,query:t,variables:r}},exports.getOperationName=y,exports.getOperationType=function(r){for(var t=0,n=r.definitions.length;t<n;t++){var o=r.definitions[t];if(o.kind===e.Kind.OPERATION_DEFINITION)return o.operation}},exports.keyDocument=v,exports.makeErrorResult=b,exports.makeFetchBody=function(r){return{query:e.print(r.query),operationName:y(r.query),variables:r.variables||void 0,extensions:void 0}},exports.makeFetchOptions=function(e,r){var t=O(e),n={accept:"application/graphql+json, application/json"};t||(n["content-type"]="application/json");var o=("function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions)||{};if(o.headers)for(var a in o.headers)n[a.toLowerCase()]=o.headers[a];return g({},o,{body:!t&&r?JSON.stringify(r):void 0,method:t?"GET":"POST",headers:n})},exports.makeFetchSource=function(e,t,n){var o="manual"===n.redirect?400:300,a=e.context.fetch;return r.make((function(r){var i=r.next,s=r.complete,u="undefined"!=typeof AbortController?new AbortController:null;u&&(n.signal=u.signal);var c,f=!1,p=!1,l=!1;return Promise.resolve().then((function(){if(!p)return(a||fetch)(t,n)})).then((function(r){if(r)return l=(c=r).status<200||c.status>=o,function(e,r,t){var n=t.headers&&t.headers.get("Content-Type")||"";if(/text\//i.test(n))return t.text().then((function(n){e(b(r,new Error(n),t))}));if(!/multipart\/mixed/i.test(n))return t.text().then((function(n){e(x(r,JSON.parse(n),t))}));var o,a="---",i=n.match(E);i&&(a="--"+i[1]);var s=function(){};if(N&&t[N]){var u=t[N]();o=u.next.bind(u)}else{if(!("body"in t)||!t.body)throw new TypeError("Streaming requests unsupported");var c=t.body.getReader();s=c.cancel.bind(c),o=c.read.bind(c)}var p="",l=!0,d=null,h=null;return o().then((function n(i){if(i.done)f=!0;else{var s="Buffer"===(N=i.value).constructor.name?N.toString():k.decode(N),u=s.indexOf(a);for(u>-1?u+=p.length:u=p.indexOf(a),p+=s;u>-1;){var c=p.slice(0,u),v=p.slice(u+a.length);if(l)l=!1;else{var y=c.indexOf("\r\n\r\n")+4,g=c.slice(0,y),b=c.slice(y,c.lastIndexOf("\r\n")),O=void 0;if(w.test(g))try{O=JSON.parse(b),d=h=h?m(h,O,t):x(r,O,t)}catch(e){}if("--"===v.slice(0,2)||O&&!O.hasNext){if(!h)return e(x(r,{},t));break}}u=(p=v).indexOf(a)}}var N;if(d&&(e(d),d=null),!i.done&&(!h||h.hasNext))return o().then(n)})).finally(s)}(i,e,c)})).then(s).catch((function(r){if(f)throw r;var t=b(e,l&&c.statusText?new Error(c.statusText):r,c);i(t),s()})),function(){p=!0,u&&u.abort()}}))},exports.makeFetchURL=function(e,r){var t=O(e),n=e.context.url;if(!t||!r)return n;var o=[];r.operationName&&o.push("operationName="+encodeURIComponent(r.operationName)),r.query&&o.push("query="+encodeURIComponent(r.query.replace(/#[^\n\r]+/g," ").trim())),r.variables&&o.push("variables="+encodeURIComponent(c(r.variables))),r.extensions&&o.push("extensions="+encodeURIComponent(c(r.extensions)));var a=n+"?"+o.join("&");return a.length>2047?(e.context.preferGetMethod=!1,n):a},exports.makeResult=x,exports.mergeResultPatch=m,exports.stringifyDocument=d,exports.stringifyVariables=c;
//# sourceMappingURL=45abf53c.min.js.map
