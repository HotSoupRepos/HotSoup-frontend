{"version":3,"sources":["../../../../src/api/rest/wrapFetchWithOffline.ts"],"sourcesContent":["import * as Log from '../../log';\nimport { APISettings } from '../settings';\nimport { FetchLike } from './client.types';\n\n/** Wrap fetch with support for APISettings offline mode. */\nexport function wrapFetchWithOffline(fetchFunction: FetchLike): FetchLike {\n  return async function fetchWithOffline(url, options = {}) {\n    if (APISettings.isOffline) {\n      Log.debug('[fetch] Offline: Skipping network request: ' + url);\n      options.timeout = 1;\n    }\n    return fetchFunction(url, options);\n  };\n}\n"],"names":["wrapFetchWithOffline","Log","fetchFunction","fetchWithOffline","url","options","APISettings","isOffline","debug","timeout"],"mappings":"AAAA;;;;QAKgBA,oBAAoB,GAApBA,oBAAoB;AALxBC,IAAAA,GAAG,mCAAM,WAAW,EAAjB;AACa,IAAA,SAAa,WAAb,aAAa,CAAA;;;;;;;;;;;;;;;;;;;;;;AAIlC,SAASD,oBAAoB,CAACE,aAAwB,EAAa;IACxE,OAAO,eAAeC,gBAAgB,CAACC,GAAG,EAAEC,OAAO,GAAG,EAAE,EAAE;QACxD,IAAIC,SAAW,YAAA,CAACC,SAAS,EAAE;YACzBN,GAAG,CAACO,KAAK,CAAC,6CAA6C,GAAGJ,GAAG,CAAC,CAAC;YAC/DC,OAAO,CAACI,OAAO,GAAG,CAAC,CAAC;SACrB;QACD,OAAOP,aAAa,CAACE,GAAG,EAAEC,OAAO,CAAC,CAAC;KACpC,CAAC;CACH"}