{"version":3,"sources":["../../../src/plugins/icons/withAndroidManifestIcons.ts"],"names":["withAndroidManifestIcons","config","modResults","setRoundIconManifest","manifest","isAdaptive","android","adaptiveIcon","application","AndroidConfig","Manifest","getMainApplicationOrThrow","$"],"mappings":";;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGO,MAAMA,wBAAsC,GAAGC,MAAM,IAC1D,0CAAoBA,MAApB,EAA4BA,MAAM,IAAI;AACpCA,EAAAA,MAAM,CAACC,UAAP,GAAoBC,oBAAoB,CAACF,MAAD,EAASA,MAAM,CAACC,UAAhB,CAAxC;AACA,SAAOD,MAAP;AACD,CAHD,CADK;;;;AAMA,SAASE,oBAAT,CACLF,MADK,EAELG,QAFK,EAGmC;AAAA;;AACxC,QAAMC,UAAU,GAAG,CAAC,qBAACJ,MAAM,CAACK,OAAR,4CAAC,gBAAgBC,YAAjB,CAApB;;AACA,QAAMC,WAAW,GAAGC,+BAAcC,QAAd,CAAuBC,yBAAvB,CAAiDP,QAAjD,CAApB;;AAEA,MAAIC,UAAJ,EAAgB;AACdG,IAAAA,WAAW,CAACI,CAAZ,CAAc,mBAAd,IAAqC,2BAArC;AACD,GAFD,MAEO;AACL,WAAOJ,WAAW,CAACI,CAAZ,CAAc,mBAAd,CAAP;AACD;;AACD,SAAOR,QAAP;AACD","sourcesContent":["import { AndroidConfig, ConfigPlugin, withAndroidManifest } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nexport const withAndroidManifestIcons: ConfigPlugin = config =>\n  withAndroidManifest(config, config => {\n    config.modResults = setRoundIconManifest(config, config.modResults);\n    return config;\n  });\n\nexport function setRoundIconManifest(\n  config: Pick<ExpoConfig, 'android'>,\n  manifest: AndroidConfig.Manifest.AndroidManifest\n): AndroidConfig.Manifest.AndroidManifest {\n  const isAdaptive = !!config.android?.adaptiveIcon;\n  const application = AndroidConfig.Manifest.getMainApplicationOrThrow(manifest);\n\n  if (isAdaptive) {\n    application.$['android:roundIcon'] = '@mipmap/ic_launcher_round';\n  } else {\n    delete application.$['android:roundIcon'];\n  }\n  return manifest;\n}\n"],"file":"withAndroidManifestIcons.js"}